{
  "version": "1.0.0",
  "pgschema_version": "0.2.0",
  "created_at": "2025-08-03T13:23:07+08:00",
  "transaction": true,
  "summary": {
    "total": 3,
    "add": 0,
    "change": 3,
    "destroy": 0,
    "by_type": {
      "tables": {
        "add": 0,
        "change": 3,
        "destroy": 0
      }
    }
  },
  "diffs": [
    {
      "sql": "ALTER TABLE department\nADD CONSTRAINT department_dept_name_key UNIQUE (dept_name);",
      "type": "table.constraint",
      "operation": "create",
      "path": "public.department.department_dept_name_key",
      "source": {
        "schema": "public",
        "table": "department",
        "name": "department_dept_name_key",
        "type": "UNIQUE",
        "columns": [
          {
            "name": "dept_name",
            "position": 1
          }
        ]
      },
      "can_run_in_transaction": true
    },
    {
      "sql": "ALTER TABLE employee\nADD CONSTRAINT employee_gender_check CHECK (gender IN ('M', 'F'));",
      "type": "table.constraint",
      "operation": "create",
      "path": "public.employee.employee_gender_check",
      "source": {
        "schema": "public",
        "table": "employee",
        "name": "employee_gender_check",
        "type": "CHECK",
        "columns": [
          {
            "name": "gender",
            "position": 0
          }
        ],
        "check_clause": "CHECK (gender IN ('M', 'F'))"
      },
      "can_run_in_transaction": true
    },
    {
      "sql": "CREATE INDEX IF NOT EXISTS idx_employee_hire_date ON employee (hire_date);",
      "type": "table.index",
      "operation": "create",
      "path": "public.employee.idx_employee_hire_date",
      "source": {
        "schema": "public",
        "table": "employee",
        "name": "idx_employee_hire_date",
        "type": "REGULAR",
        "method": "btree",
        "columns": [
          {
            "name": "hire_date",
            "position": 1,
            "direction": "ASC"
          }
        ],
        "is_concurrent": false,
        "is_partial": false,
        "is_expression": false
      },
      "can_run_in_transaction": true
    },
    {
      "sql": "CREATE INDEX IF NOT EXISTS idx_salary_amount ON salary (amount);",
      "type": "table.index",
      "operation": "create",
      "path": "public.salary.idx_salary_amount",
      "source": {
        "schema": "public",
        "table": "salary",
        "name": "idx_salary_amount",
        "type": "REGULAR",
        "method": "btree",
        "columns": [
          {
            "name": "amount",
            "position": 1,
            "direction": "ASC"
          }
        ],
        "is_concurrent": false,
        "is_partial": false,
        "is_expression": false
      },
      "can_run_in_transaction": true
    }
  ]
}