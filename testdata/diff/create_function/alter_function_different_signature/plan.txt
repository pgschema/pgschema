Plan: 1 to add, 1 to drop.

Summary by type:
  functions: 1 to add, 1 to drop

Functions:
  - process_order
  + process_order

DDL to be executed:
--------------------------------------------------

DROP FUNCTION IF EXISTS process_order(integer, numeric);

CREATE OR REPLACE FUNCTION process_order(
    customer_email text,
    priority boolean DEFAULT false
)
RETURNS TABLE(status text, processed_at timestamp)
LANGUAGE plpgsql
SECURITY DEFINER
STABLE
AS $$
BEGIN
    RETURN QUERY
    SELECT 'completed'::text, NOW()
    WHERE priority = true;
END;
$$;
