Plan: 1 to modify.

Summary by type:
  tables: 1 to modify

Tables:
  ~ table1
    ~ c1 (column)
    ~ c2 (column)
    ~ c3 (column)

DDL to be executed:
--------------------------------------------------

CREATE SEQUENCE IF NOT EXISTS table1_c1_seq OWNED BY table1.c1;

ALTER TABLE table1 ALTER COLUMN c1 SET DEFAULT nextval('table1_c1_seq'::regclass);

ALTER TABLE table1 ALTER COLUMN c2 DROP DEFAULT;

DROP SEQUENCE table1_c2_seq;

ALTER TABLE table1 ALTER COLUMN c2 ADD GENERATED ALWAYS AS IDENTITY;

SELECT setval(pg_get_serial_sequence('table1', 'c2'), COALESCE(MAX(c2), 0) + 1) FROM table1;

ALTER TABLE table1 ALTER COLUMN c3 DROP IDENTITY;

ALTER TABLE table1 ALTER COLUMN c3 ADD GENERATED BY DEFAULT AS IDENTITY;

SELECT setval(pg_get_serial_sequence('table1', 'c3'), COALESCE(MAX(c3), 0) + 1) FROM table1;
