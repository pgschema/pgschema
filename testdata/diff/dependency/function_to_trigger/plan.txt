Plan: 1 to add, 1 to modify, 1 to drop.

Summary by type:
  functions: 1 to add, 1 to drop
  tables: 1 to modify

Functions:
  + log_user_changes
  - update_modified_time

Tables:
  ~ users
    + log_users_trigger (trigger)
    - update_users_modified_time (trigger)

DDL to be executed:
--------------------------------------------------

DROP TRIGGER IF EXISTS update_users_modified_time ON users;

DROP FUNCTION IF EXISTS update_modified_time();

CREATE OR REPLACE FUNCTION log_user_changes()
RETURNS trigger
LANGUAGE plpgsql
SECURITY INVOKER
VOLATILE
AS $$
BEGIN
    RAISE NOTICE 'User record changed: %', NEW.id;
    RETURN NEW;
END;
$$;

CREATE OR REPLACE TRIGGER log_users_trigger
    AFTER INSERT OR UPDATE ON users
    FOR EACH ROW
    EXECUTE FUNCTION log_user_changes();
