Plan: 2 to add.

Summary by type:
  tables: 2 to add

Tables:
  + departments
    + departments_manager_id_fkey (constraint)
  + users

DDL to be executed:
--------------------------------------------------

CREATE TABLE IF NOT EXISTS departments (
    id integer,
    name text NOT NULL,
    manager_id integer,
    CONSTRAINT departments_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS users (
    id integer,
    name text,
    email text,
    department_id integer,
    CONSTRAINT users_pkey PRIMARY KEY (id),
    CONSTRAINT users_email_key UNIQUE (email),
    CONSTRAINT users_department_id_fkey FOREIGN KEY (department_id) REFERENCES departments (id)
);

ALTER TABLE departments
ADD CONSTRAINT departments_manager_id_fkey FOREIGN KEY (manager_id) REFERENCES users (id);
