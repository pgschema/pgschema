Plan: 2 to modify.

Summary by type:
  functions: 1 to modify
  views: 1 to modify

Functions:
  ~ insert_user_emails

Views:
  ~ user_emails
    + trg_user_emails_insert (trigger)

DDL to be executed:
--------------------------------------------------

CREATE OR REPLACE TRIGGER trg_user_emails_insert
    INSTEAD OF INSERT ON user_emails
    FOR EACH ROW
    EXECUTE FUNCTION insert_user_emails();

CREATE OR REPLACE FUNCTION insert_user_emails()
RETURNS trigger
LANGUAGE plpgsql
VOLATILE
AS $$
BEGIN
    INSERT INTO users (email)
    VALUES (NEW.email)
    RETURNING id, email INTO NEW.id, NEW.email;
    RETURN NEW;
END;
$$;
